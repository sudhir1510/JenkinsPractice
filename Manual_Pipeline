def readProp;

pipeline {
    agent any
	
	stages {
        
		stage ('prepare') {
			steps {
			echo 'done'
				checkout([$class: 'GitSCM', branches: [[name: '*/master']], doGenerateSubmoduleConfigurations: false, extensions: [], submoduleCfg: [], userRemoteConfigs: [[url: 'https://github.com/sudhir1510/JenkinsPractice.git']]])
			}	
		}
		
		stage('read Prop') {
			steps {
			if (!fileExists('info.properties')){
				    echo 'No build properties.'
				    exit 
				}
			def props = readProperties file: 'info.properties'
			
			echo ${props['name']}
			}	
        	}
    	}
}
